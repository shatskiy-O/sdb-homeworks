# Домашнее задание к занятию «Индексы»

### Инструкция по выполнению домашнего задания

1. Сделайте fork [репозитория c шаблоном решения](https://github.com/netology-code/sys-pattern-homework) к себе в Github и переименуйте его по названию или номеру занятия, например, https://github.com/имя-вашего-репозитория/gitlab-hw или https://github.com/имя-вашего-репозитория/8-03-hw).
2. Выполните клонирование этого репозитория к себе на ПК с помощью команды `git clone`.
3. Выполните домашнее задание и заполните у себя локально этот файл README.md:
   - впишите вверху название занятия и ваши фамилию и имя;
   - в каждом задании добавьте решение в требуемом виде: текст/код/скриншоты/ссылка;
   - для корректного добавления скриншотов воспользуйтесь инструкцией [«Как вставить скриншот в шаблон с решением»](https://github.com/netology-code/sys-pattern-homework/blob/main/screen-instruction.md);
   - при оформлении используйте возможности языка разметки md. Коротко об этом можно посмотреть в [инструкции по MarkDown](https://github.com/netology-code/sys-pattern-homework/blob/main/md-instruction.md).
4. После завершения работы над домашним заданием сделайте коммит (`git commit -m "comment"`) и отправьте его на Github (`git push origin`).
5. Для проверки домашнего задания преподавателем в личном кабинете прикрепите и отправьте ссылку на решение в виде md-файла в вашем Github.
6. Любые вопросы задавайте в чате учебной группы и/или в разделе «Вопросы по заданию» в личном кабинете.

Желаем успехов в выполнении домашнего задания.

### Задание 1

Напишите запрос к учебной базе данных, который вернёт процентное отношение общего размера всех индексов к общему размеру всех таблиц.

### Ответ 1

```sql
SELECT 
    ROUND(
        (SUM(index_length) / SUM(data_length + index_length)) * 100, 
        2
    ) AS index_to_table_ratio_percent
FROM 
    information_schema.TABLES
WHERE 
    table_schema NOT IN ('information_schema', 'mysql', 'performance_schema', 'sys');
```

![alt text](https://github.com/shatskiy-O/sdb-homeworks/blob/main/images/29.png)

### Задание 2

Выполните explain analyze следующего запроса:
```sql
select distinct concat(c.last_name, ' ', c.first_name), sum(p.amount) over (partition by c.customer_id, f.title)
from payment p, rental r, customer c, inventory i, film f
where date(p.payment_date) = '2005-07-30' and p.payment_date = r.rental_date and r.customer_id = c.customer_id and i.inventory_id = r.inventory_id
```
- перечислите узкие места;
- оптимизируйте запрос: внесите корректировки по использованию операторов, при необходимости добавьте индексы.

### Ответ 2

#### Узкие места

```
1)Сложность запроса: Все внутренние соединения (inner joins) и вложенные циклы (nested loops) увеличивают сложность запроса. Это видно по времени выполнения и по плану.
2)Сортировка для оконных функций: Выполняется сортировка по полям c.customer_id, f.title для оконной функции, что добавляет дополнительные затраты времени.
3)Неэффективные операции: Функция date(p.payment_date) = '2005-07-30' может быть неэффективной, если на столбце payment_date есть индекс.
```

#### Оптимизированный запрос

```sql
SELECT DISTINCT CONCAT(c.last_name, ' ', c.first_name), 
       SUM(p.amount) OVER (PARTITION BY c.customer_id, f.title)
FROM payment p
JOIN rental r ON p.payment_date = r.rental_date
JOIN customer c ON r.customer_id = c.customer_id
JOIN inventory i ON i.inventory_id = r.inventory_id
JOIN film f ON i.film_id = f.film_id
WHERE p.payment_date >= '2005-07-30' AND p.payment_date < DATE_ADD('2005-07-30', INTERVAL 1 DAY);
```
#### Вывод

```
mysql> SELECT DISTINCT CONCAT(c.last_name, ' ', c.first_name), 
    ->        SUM(p.amount) OVER (PARTITION BY c.customer_id, f.title)
    -> FROM payment p
    -> JOIN rental r ON p.payment_date = r.rental_date
    -> JOIN customer c ON r.customer_id = c.customer_id
    -> JOIN inventory i ON i.inventory_id = r.inventory_id
    -> JOIN film f ON i.film_id = f.film_id
    -> WHERE p.payment_date >= '2005-07-30' AND p.payment_date < DATE_ADD('2005-07-30', INTERVAL 1 DAY);
+----------------------------------------+----------------------------------------------------------+
| CONCAT(c.last_name, ' ', c.first_name) | SUM(p.amount) OVER (PARTITION BY c.customer_id, f.title) |
+----------------------------------------+----------------------------------------------------------+
| JOHNSON PATRICIA                       |                                                     0.99 |
| JOHNSON PATRICIA                       |                                                     4.99 |
| JOHNSON PATRICIA                       |                                                     6.99 |
| JOHNSON PATRICIA                       |                                                    10.99 |
| WILLIAMS LINDA                         |                                                     3.99 |
| WILLIAMS LINDA                         |                                                     1.99 |
| JONES BARBARA                          |                                                     5.99 |
| BROWN ELIZABETH                        |                                                     1.99 |
| BROWN ELIZABETH                        |                                                     4.99 |
| MOORE MARGARET                         |                                                     4.99 |
| ANDERSON LISA                          |                                                     6.99 |
| ANDERSON LISA                          |                                                     9.99 |
| THOMAS NANCY                           |                                                     4.99 |
| THOMAS NANCY                           |                                                     0.99 |
| THOMAS NANCY                           |                                                     5.99 |
| JACKSON KAREN                          |                                                     0.99 |
| JACKSON KAREN                          |                                                     9.99 |
| WHITE BETTY                            |                                                     4.99 |
| HARRIS HELEN                           |                                                     4.99 |
| MARTIN SANDRA                          |                                                     0.99 |
| THOMPSON DONNA                         |                                                     8.99 |
| THOMPSON DONNA                         |                                                     5.98 |
| THOMPSON DONNA                         |                                                     0.99 |
| GARCIA CAROL                           |                                                     4.99 |
| MARTINEZ RUTH                          |                                                     5.99 |
| MARTINEZ RUTH                          |                                                     0.99 |
| ROBINSON SHARON                        |                                                     4.99 |
| ROBINSON SHARON                        |                                                     3.99 |
| CLARK MICHELLE                         |                                                     0.99 |
| RODRIGUEZ LAURA                        |                                                     0.99 |
| LEWIS SARAH                            |                                                     9.99 |
| LEWIS SARAH                            |                                                     5.99 |
| LEE KIMBERLY                           |                                                     4.99 |
| WALKER DEBORAH                         |                                                     0.99 |
| WALKER DEBORAH                         |                                                     2.99 |
| WALKER DEBORAH                         |                                                     8.99 |
| HALL JESSICA                           |                                                     0.99 |
| ALLEN SHIRLEY                          |                                                     0.99 |
| YOUNG CYNTHIA                          |                                                     2.99 |
| HERNANDEZ ANGELA                       |                                                     4.99 |
| KING MELISSA                           |                                                     2.99 |
| WRIGHT BRENDA                          |                                                     0.99 |
| LOPEZ AMY                              |                                                     2.99 |
| HILL ANNA                              |                                                     4.99 |
| HILL ANNA                              |                                                     1.99 |
| SCOTT REBECCA                          |                                                     3.99 |
| GREEN VIRGINIA                         |                                                     2.99 |
| GREEN VIRGINIA                         |                                                     5.99 |
| ADAMS KATHLEEN                         |                                                     2.99 |
| ADAMS KATHLEEN                         |                                                     4.99 |
| GONZALEZ MARTHA                        |                                                     3.99 |
| GONZALEZ MARTHA                        |                                                     0.99 |
| GONZALEZ MARTHA                        |                                                     5.98 |
| NELSON DEBRA                           |                                                     1.99 |
| CARTER AMANDA                          |                                                     8.99 |
| MITCHELL STEPHANIE                     |                                                     5.99 |
| PEREZ CAROLYN                          |                                                     3.99 |
| ROBERTS CHRISTINE                      |                                                     4.99 |
| CAMPBELL CATHERINE                     |                                                     8.99 |
| PARKER FRANCES                         |                                                     4.99 |
| EVANS ANN                              |                                                     7.99 |
| EDWARDS JOYCE                          |                                                     0.99 |
| COLLINS DIANE                          |                                                     0.99 |
| STEWART ALICE                          |                                                     0.99 |
| SANCHEZ JULIE                          |                                                     4.99 |
| MORRIS HEATHER                         |                                                     4.99 |
| ROGERS TERESA                          |                                                     4.99 |
| REED DORIS                             |                                                     2.99 |
| MORGAN EVELYN                          |                                                     1.99 |
| MORGAN EVELYN                          |                                                     0.99 |
| MURPHY CHERYL                          |                                                     8.99 |
| BAILEY MILDRED                         |                                                     4.99 |
| RICHARDSON ASHLEY                      |                                                     0.99 |
| HOWARD ROSE                            |                                                     3.99 |
| WARD JANICE                            |                                                     5.99 |
| PETERSON NICOLE                        |                                                     3.99 |
| GRAY JUDY                              |                                                     2.99 |
| JAMES KATHY                            |                                                     0.99 |
| WATSON THERESA                         |                                                     5.99 |
| WATSON THERESA                         |                                                     2.99 |
| BROOKS BEVERLY                         |                                                     2.99 |
| KELLY DENISE                           |                                                     4.99 |
| SANDERS TAMMY                          |                                                     4.99 |
| SANDERS TAMMY                          |                                                     5.99 |
| PRICE IRENE                            |                                                     0.99 |
| PRICE IRENE                            |                                                     2.99 |
| BENNETT JANE                           |                                                     4.99 |
| WOOD LORI                              |                                                     5.99 |
| WOOD LORI                              |                                                     4.99 |
| ROSS MARILYN                           |                                                     6.99 |
| HENDERSON ANDREA                       |                                                     3.99 |
| COLEMAN KATHRYN                        |                                                     6.99 |
| COLEMAN KATHRYN                        |                                                     8.99 |
| COLEMAN KATHRYN                        |                                                     3.99 |
| PERRY SARA                             |                                                     2.99 |
| POWELL ANNE                            |                                                     7.99 |
| LONG JACQUELINE                        |                                                     4.99 |
| PATTERSON WANDA                        |                                                     8.99 |
| PATTERSON WANDA                        |                                                     2.99 |
| PATTERSON WANDA                        |                                                     0.99 |
| FLORES JULIA                           |                                                     2.99 |
| FLORES JULIA                           |                                                     0.99 |
| WASHINGTON RUBY                        |                                                     2.99 |
| WASHINGTON RUBY                        |                                                     9.99 |
| BUTLER LOIS                            |                                                     4.99 |
| BUTLER LOIS                            |                                                     2.99 |
| BUTLER LOIS                            |                                                     0.99 |
| SIMMONS TINA                           |                                                     4.99 |
| BRYANT PAULA                           |                                                     6.99 |
| ALEXANDER DIANA                        |                                                     4.99 |
| ALEXANDER DIANA                        |                                                     3.99 |
| HAYES ROBIN                            |                                                     4.99 |
| HAYES ROBIN                            |                                                     5.99 |
| FORD CRYSTAL                           |                                                     0.99 |
| FORD CRYSTAL                           |                                                     2.99 |
| FORD CRYSTAL                           |                                                     3.99 |
| HAMILTON GLADYS                        |                                                     4.99 |
| GRAHAM RITA                            |                                                     3.99 |
| SULLIVAN DAWN                          |                                                     9.99 |
| SULLIVAN DAWN                          |                                                     5.99 |
| SULLIVAN DAWN                          |                                                     2.99 |
| SULLIVAN DAWN                          |                                                     3.99 |
| WALLACE CONNIE                         |                                                     2.99 |
| WOODS FLORENCE                         |                                                     2.99 |
| WEST EDNA                              |                                                     0.99 |
| REYNOLDS ROSA                          |                                                     4.99 |
| REYNOLDS ROSA                          |                                                     6.99 |
| FISHER CINDY                           |                                                     6.99 |
| GIBSON VICTORIA                        |                                                     6.99 |
| CRUZ KIM                               |                                                     4.99 |
| MARSHALL SHERRY                        |                                                     2.99 |
| ORTIZ SYLVIA                           |                                                     6.99 |
| GOMEZ JOSEPHINE                        |                                                     3.98 |
| GOMEZ JOSEPHINE                        |                                                     8.99 |
| WEBB ETHEL                             |                                                     4.99 |
| WEBB ETHEL                             |                                                     9.99 |
| SIMPSON ELLEN                          |                                                     6.99 |
| TUCKER MARJORIE                        |                                                     5.99 |
| TUCKER MARJORIE                        |                                                     2.99 |
| HUNTER CHARLOTTE                       |                                                     0.99 |
| HICKS MONICA                           |                                                     3.99 |
| HENRY PAULINE                          |                                                     0.99 |
| HENRY PAULINE                          |                                                     5.98 |
| MASON JUANITA                          |                                                     6.99 |
| MASON JUANITA                          |                                                     7.99 |
| MORALES ANITA                          |                                                     0.99 |
| KENNEDY RHONDA                         |                                                     2.99 |
| KENNEDY RHONDA                         |                                                     4.99 |
| KENNEDY RHONDA                         |                                                     7.99 |
| WARREN HAZEL                           |                                                     1.99 |
| DIXON AMBER                            |                                                     2.99 |
| RAMOS EVA                              |                                                     4.99 |
| RAMOS EVA                              |                                                     0.99 |
| REYES DEBBIE                           |                                                     7.99 |
| BURNS APRIL                            |                                                     2.99 |
| BURNS APRIL                            |                                                     7.99 |
| BURNS APRIL                            |                                                     5.99 |
| SHAW CLARA                             |                                                     3.99 |
| SHAW CLARA                             |                                                     0.99 |
| SHAW CLARA                             |                                                     4.99 |
| SHAW CLARA                             |                                                     7.99 |
| HOLMES LUCILLE                         |                                                     2.99 |
| ROBERTSON JOANNE                       |                                                     2.99 |
| HUNT ELEANOR                           |                                                     5.99 |
| HUNT ELEANOR                           |                                                     2.99 |
| DANIELS DANIELLE                       |                                                     2.99 |
| PALMER MEGAN                           |                                                     4.99 |
| MILLS ALICIA                           |                                                     5.99 |
| GRANT MICHELE                          |                                                     2.99 |
| FERGUSON BERTHA                        |                                                     6.99 |
| ROSE DARLENE                           |                                                     2.99 |
| ROSE DARLENE                           |                                                     4.99 |
| STONE VERONICA                         |                                                     1.99 |
| STONE VERONICA                         |                                                     2.99 |
| HAWKINS JILL                           |                                                     0.99 |
| HAWKINS JILL                           |                                                     3.99 |
| PERKINS GERALDINE                      |                                                     4.99 |
| PERKINS GERALDINE                      |                                                     0.99 |
| HUDSON LAUREN                          |                                                     4.99 |
| STEPHENS LORRAINE                      |                                                     7.99 |
| PAYNE LYNN                             |                                                     8.99 |
| BERRY REGINA                           |                                                     4.99 |
| BERRY REGINA                           |                                                     1.99 |
| MATTHEWS ERICA                         |                                                     0.99 |
| WAGNER DOLORES                         |                                                     4.99 |
| WAGNER DOLORES                         |                                                     5.99 |
| WILLIS BERNICE                         |                                                     5.99 |
| WILLIS BERNICE                         |                                                     6.99 |
| WILLIS BERNICE                         |                                                     2.99 |
| RAY AUDREY                             |                                                     4.99 |
| WATKINS YVONNE                         |                                                     4.99 |
| CARROLL JUNE                           |                                                     6.99 |
| DUNCAN SAMANTHA                        |                                                     1.99 |
| SNYDER MARION                          |                                                     7.99 |
| SNYDER MARION                          |                                                     4.99 |
| HART DANA                              |                                                     4.99 |
| CUNNINGHAM STACY                       |                                                     0.99 |
| BRADLEY ANA                            |                                                     5.99 |
| BRADLEY ANA                            |                                                     4.99 |
| BRADLEY ANA                            |                                                     8.99 |
| RUIZ VIVIAN                            |                                                     4.99 |
| RUIZ VIVIAN                            |                                                     0.99 |
| HARPER ROBERTA                         |                                                     2.99 |
| HARPER ROBERTA                         |                                                     0.99 |
| FOX HOLLY                              |                                                     5.99 |
| FOX HOLLY                              |                                                     0.99 |
| FOX HOLLY                              |                                                     2.99 |
| RILEY BRITTANY                         |                                                     2.99 |
| CARPENTER LORETTA                      |                                                     0.99 |
| CARPENTER LORETTA                      |                                                     5.99 |
| GREENE JEANETTE                        |                                                     4.99 |
| LAWRENCE LAURIE                        |                                                     7.99 |
| ELLIOTT KATIE                          |                                                     2.99 |
| CHAVEZ KRISTEN                         |                                                     7.99 |
| SIMS VANESSA                           |                                                     6.99 |
| AUSTIN ALMA                            |                                                     5.99 |
| PETERS SUE                             |                                                     4.99 |
| PETERS SUE                             |                                                     0.99 |
| KELLEY ELSIE                           |                                                     0.99 |
| FIELDS VICKI                           |                                                     0.99 |
| GUTIERREZ CARLA                        |                                                     0.99 |
| GUTIERREZ CARLA                        |                                                     8.99 |
| GUTIERREZ CARLA                        |                                                     2.99 |
| RYAN TARA                              |                                                    10.99 |
| SCHMIDT ROSEMARY                       |                                                     0.99 |
| SCHMIDT ROSEMARY                       |                                                     5.99 |
| CARR EILEEN                            |                                                     4.99 |
| VASQUEZ TERRI                          |                                                     2.99 |
| WHEELER LUCY                           |                                                     3.99 |
| CHAPMAN TONYA                          |                                                     6.99 |
| MONTGOMERY STACEY                      |                                                     3.99 |
| MONTGOMERY STACEY                      |                                                     6.99 |
| RICHARDS WILMA                         |                                                     3.99 |
| WILLIAMSON GINA                        |                                                     4.99 |
| WILLIAMSON GINA                        |                                                     6.99 |
| WILLIAMSON GINA                        |                                                     2.99 |
| BANKS JESSIE                           |                                                     2.99 |
| MEYER NATALIE                          |                                                     0.99 |
| BISHOP AGNES                           |                                                     0.99 |
| BISHOP AGNES                           |                                                     2.99 |
| MCCOY VERA                             |                                                     6.99 |
| ALVAREZ CHARLENE                       |                                                     7.99 |
| ALVAREZ CHARLENE                       |                                                    10.99 |
| MORRISON BESSIE                        |                                                     6.99 |
| MORRISON BESSIE                        |                                                     7.99 |
| GARZA PEARL                            |                                                     0.99 |
| BURTON COLLEEN                         |                                                     2.99 |
| JACOBS GEORGIA                         |                                                     5.99 |
| REID CONSTANCE                         |                                                     0.99 |
| REID CONSTANCE                         |                                                     2.99 |
| REID CONSTANCE                         |                                                    10.99 |
| LYNCH JACKIE                           |                                                     5.99 |
| DEAN MARCIA                            |                                                     5.99 |
| GILBERT TANYA                          |                                                     5.99 |
| GARRETT NELLIE                         |                                                     4.99 |
| WELCH MARLENE                          |                                                     5.99 |
| LARSON HEIDI                           |                                                     6.99 |
| FRAZIER GLENDA                         |                                                     3.99 |
| BURKE LYDIA                            |                                                     2.99 |
| DAY COURTNEY                           |                                                     4.99 |
| DAY COURTNEY                           |                                                     0.99 |
| FOWLER JO                              |                                                     0.99 |
| BREWER VICKIE                          |                                                     0.99 |
| BREWER VICKIE                          |                                                     2.99 |
| HOFFMAN MATTIE                         |                                                     0.99 |
| SILVA MAXINE                           |                                                     1.99 |
| PEARSON IRMA                           |                                                     6.99 |
| HOLLAND MABEL                          |                                                     2.99 |
| DOUGLAS MARSHA                         |                                                     6.99 |
| FLEMING MYRTLE                         |                                                     4.99 |
| JENSEN LENA                            |                                                     6.99 |
| JENSEN LENA                            |                                                     7.99 |
| VARGAS CHRISTY                         |                                                     0.99 |
| VARGAS CHRISTY                         |                                                     4.99 |
| DAVIDSON PATSY                         |                                                     6.99 |
| MAY GWENDOLYN                          |                                                     2.99 |
| TERRY JENNIE                           |                                                     2.99 |
| HERRERA NORA                           |                                                     5.99 |
| WADE MARGIE                            |                                                     3.99 |
| WADE MARGIE                            |                                                     6.99 |
| WADE MARGIE                            |                                                     4.99 |
| SOTO NINA                              |                                                     2.99 |
| SOTO NINA                              |                                                     7.99 |
| LOWE PRISCILLA                         |                                                     0.99 |
| LOWE PRISCILLA                         |                                                     5.99 |
| LOWE PRISCILLA                         |                                                     4.99 |
| JENNINGS NAOMI                         |                                                     4.99 |
| BARNETT CAROLE                         |                                                     2.99 |
| GRAVES BRANDY                          |                                                     1.99 |
| GRAVES BRANDY                          |                                                     4.99 |
| GRAVES BRANDY                          |                                                     0.99 |
| GRAVES BRANDY                          |                                                     8.99 |
| HORTON BILLIE                          |                                                     4.99 |
| HORTON BILLIE                          |                                                     2.99 |
| BARRETT TRACEY                         |                                                     0.99 |
| CASTRO JENNY                           |                                                     1.99 |
| SUTTON FELICIA                         |                                                     2.99 |
| SUTTON FELICIA                         |                                                     4.99 |
| GREGORY SONIA                          |                                                     2.99 |
| LUCAS VELMA                            |                                                     6.99 |
| MILES BECKY                            |                                                     6.99 |
| CRAIG BOBBIE                           |                                                     2.99 |
| RODRIQUEZ VIOLET                       |                                                     2.99 |
| CHAMBERS KRISTINA                      |                                                     0.99 |
| CHAMBERS KRISTINA                      |                                                     7.99 |
| HOLT TONI                              |                                                     5.99 |
| LAMBERT MISTY                          |                                                     8.99 |
| FLETCHER MAE                           |                                                     2.99 |
| WATTS SHELLY                           |                                                     2.99 |
| BATES DAISY                            |                                                     7.99 |
| BATES DAISY                            |                                                     2.99 |
| HALE RAMONA                            |                                                     5.99 |
| HALE RAMONA                            |                                                     2.99 |
| RHODES SHERRI                          |                                                     2.99 |
| FARNSWORTH JOHN                        |                                                     0.99 |
| FARNSWORTH JOHN                        |                                                     2.99 |
| BAUGHMAN ROBERT                        |                                                     4.99 |
| SILVERMAN MICHAEL                      |                                                     8.99 |
| SILVERMAN MICHAEL                      |                                                     7.99 |
| SILVERMAN MICHAEL                      |                                                     2.99 |
| MCCRARY RICHARD                        |                                                     4.99 |
| KOWALSKI CHARLES                       |                                                     4.99 |
| GRIGSBY THOMAS                         |                                                     2.99 |
| GRIGSBY THOMAS                         |                                                     0.99 |
| GRECO CHRISTOPHER                      |                                                     2.99 |
| CABRAL DANIEL                          |                                                     7.99 |
| RINEHART MARK                          |                                                     3.99 |
| RINEHART MARK                          |                                                     6.99 |
| MAHON DONALD                           |                                                     3.99 |
| LINTON GEORGE                          |                                                     3.99 |
| LINTON GEORGE                          |                                                     6.99 |
| BAUGH EDWARD                           |                                                     2.99 |
| WEINER RONALD                          |                                                     4.99 |
| WEINER RONALD                          |                                                     0.99 |
| MORRISSEY JASON                        |                                                     1.99 |
| MORRISSEY JASON                        |                                                     7.99 |
| MORRISSEY JASON                        |                                                     4.99 |
| MAHAN MATTHEW                          |                                                     2.99 |
| WAGGONER FRANK                         |                                                     4.99 |
| WAGGONER FRANK                         |                                                     0.99 |
| ROBERT ERIC                            |                                                     5.99 |
| ROBERT ERIC                            |                                                     4.99 |
| QUALLS STEPHEN                         |                                                     1.99 |
| QUALLS STEPHEN                         |                                                     5.99 |
| PURDY ANDREW                           |                                                     4.99 |
| PURDY ANDREW                           |                                                    10.99 |
| MCWHORTER RAYMOND                      |                                                     7.99 |
| MAULDIN GREGORY                        |                                                     5.99 |
| MAULDIN GREGORY                        |                                                     0.99 |
| MAULDIN GREGORY                        |                                                     4.99 |
| MARK JOSHUA                            |                                                     8.99 |
| MARK JOSHUA                            |                                                     0.99 |
| JORDON JERRY                           |                                                     5.99 |
| JORDON JERRY                           |                                                     8.99 |
| GILMAN DENNIS                          |                                                     7.99 |
| PERRYMAN WALTER                        |                                                     0.99 |
| PERRYMAN WALTER                        |                                                     5.99 |
| MARTINO HAROLD                         |                                                     2.99 |
| GRAF DOUGLAS                           |                                                     5.99 |
| ARTIS CARL                             |                                                     2.99 |
| ARTIS CARL                             |                                                     4.99 |
| SALISBURY RYAN                         |                                                     4.99 |
| QUINTANILLA ROGER                      |                                                     2.99 |
| GILLILAND JOE                          |                                                     1.99 |
| CROUSE ALBERT                          |                                                     0.99 |
| NGO JUSTIN                             |                                                     0.99 |
| NGO JUSTIN                             |                                                     2.99 |
| FULTZ GERALD                           |                                                     5.99 |
| FULTZ GERALD                           |                                                     4.99 |
| RICO KEITH                             |                                                     3.99 |
| MARLOW SAMUEL                          |                                                     0.99 |
| MADRIGAL RALPH                         |                                                     5.98 |
| MADRIGAL RALPH                         |                                                     0.99 |
| VARNEY BENJAMIN                        |                                                     4.99 |
| SCHWARZ BRUCE                          |                                                     4.99 |
| SCHWARZ BRUCE                          |                                                     2.99 |
| HUEY BRANDON                           |                                                     2.99 |
| HUEY BRANDON                           |                                                     6.99 |
| GOOCH ADAM                             |                                                     4.99 |
| GOOCH ADAM                             |                                                     3.99 |
| ARCE HARRY                             |                                                     5.99 |
| WHEAT FRED                             |                                                     0.99 |
| WHEAT FRED                             |                                                     4.99 |
| POULIN BILLY                           |                                                     8.99 |
| POULIN BILLY                           |                                                     4.99 |
| MACKENZIE STEVE                        |                                                     5.99 |
| LEONE LOUIS                            |                                                     8.99 |
| LEONE LOUIS                            |                                                     0.99 |
| LEONE LOUIS                            |                                                     4.99 |
| HURTADO JEREMY                         |                                                     0.99 |
| SELBY AARON                            |                                                     2.99 |
| FORTNER HOWARD                         |                                                     3.99 |
| FORTNER HOWARD                         |                                                     4.99 |
| BRINSON RUSSELL                        |                                                     6.99 |
| BRINSON RUSSELL                        |                                                     0.99 |
| BOUDREAU BOBBY                         |                                                     0.99 |
| BOUDREAU BOBBY                         |                                                     4.99 |
| BARKLEY VICTOR                         |                                                     4.99 |
| BARKLEY VICTOR                         |                                                     6.99 |
| BARKLEY VICTOR                         |                                                     9.99 |
| MORRELL CRAIG                          |                                                     0.99 |
| MORRELL CRAIG                          |                                                     2.99 |
| KAHN ALAN                              |                                                     4.99 |
| HEATON SHAWN                           |                                                     2.99 |
| HEATON SHAWN                           |                                                     5.99 |
| GAMEZ CLARENCE                         |                                                     6.99 |
| GAMEZ CLARENCE                         |                                                     0.99 |
| BROTHERS CHRIS                         |                                                     0.99 |
| SHANKS EARL                            |                                                     5.99 |
| SCHRADER JIMMY                         |                                                     0.99 |
| MEEK ANTONIO                           |                                                     2.99 |
| MEEK ANTONIO                           |                                                     5.99 |
| HARDISON BRYAN                         |                                                     5.99 |
| WAY MIKE                               |                                                     7.99 |
| WAY MIKE                               |                                                     2.99 |
| SCROGGINS STANLEY                      |                                                     4.99 |
| SCHOFIELD LEONARD                      |                                                     5.99 |
| RUNYON NATHAN                          |                                                     2.99 |
| RUNYON NATHAN                          |                                                     0.99 |
| RUNYON NATHAN                          |                                                     4.99 |
| RUNYON NATHAN                          |                                                     1.99 |
| RUNYON NATHAN                          |                                                     7.98 |
| MURRELL MANUEL                         |                                                     7.98 |
| MURRELL MANUEL                         |                                                     0.99 |
| MOELLER RODNEY                         |                                                     0.99 |
| IRBY CURTIS                            |                                                     2.99 |
| IRBY CURTIS                            |                                                     0.99 |
| PINSON JEFFERY                         |                                                     2.99 |
| ESTEP TRAVIS                           |                                                     2.99 |
| EAST JEFF                              |                                                    10.99 |
| LANCE JACOB                            |                                                     0.99 |
| HAWKS LEE                              |                                                     4.99 |
| CASILLAS ALFRED                        |                                                     2.99 |
| SPURLOCK KYLE                          |                                                     1.99 |
| SPURLOCK KYLE                          |                                                     4.99 |
| SPURLOCK KYLE                          |                                                     2.99 |
| SIKES FRANCIS                          |                                                     0.99 |
| MOTLEY BRADLEY                         |                                                     5.99 |
| MOTLEY BRADLEY                         |                                                     4.99 |
| HOULE RAY                              |                                                     2.99 |
| BONE DON                               |                                                     4.99 |
| BONE DON                               |                                                     3.99 |
| TOMLIN EDDIE                           |                                                     4.99 |
| SHELBY RICKY                           |                                                     0.99 |
| SHELBY RICKY                           |                                                     4.99 |
| QUIGLEY TROY                           |                                                     9.99 |
| NEUMANN RANDALL                        |                                                     2.99 |
| LOVELACE BARRY                         |                                                     3.99 |
| FENNELL ALEXANDER                      |                                                     6.99 |
| FENNELL ALEXANDER                      |                                                     0.99 |
| COLBY BERNARD                          |                                                     2.99 |
| COLBY BERNARD                          |                                                     4.99 |
| BUSTAMANTE LEROY                       |                                                     4.99 |
| FORMAN MICHEAL                         |                                                     0.99 |
| CULP THEODORE                          |                                                     9.99 |
| CULP THEODORE                          |                                                     3.99 |
| CULP THEODORE                          |                                                     0.99 |
| BOWENS CLIFFORD                        |                                                     5.99 |
| BOWENS CLIFFORD                        |                                                     4.99 |
| BOWENS CLIFFORD                        |                                                     6.99 |
| BETANCOURT MIGUEL                      |                                                    10.99 |
| MILNER TOM                             |                                                     6.99 |
| MILNER TOM                             |                                                     1.99 |
| MARTEL CALVIN                          |                                                     6.99 |
| GRESHAM ALEX                           |                                                     0.99 |
| GRESHAM ALEX                           |                                                     9.99 |
| COLLAZO TOMMY                          |                                                     6.99 |
| COLLAZO TOMMY                          |                                                     2.99 |
| BLAKELY DEREK                          |                                                     4.99 |
| POWER DARRELL                          |                                                     7.99 |
| EBERT LEO                              |                                                     2.99 |
| EBERT LEO                              |                                                     3.99 |
| BULL WESLEY                            |                                                     2.99 |
| ALLARD GORDON                          |                                                     5.99 |
| ALLARD GORDON                          |                                                     6.99 |
| SAUER DEAN                             |                                                     2.99 |
| ROBINS GREG                            |                                                     5.99 |
| OLIVARES JORGE                         |                                                     8.99 |
| OLIVARES JORGE                         |                                                     4.99 |
| GILLETTE DUSTIN                        |                                                     2.99 |
| CHESTNUT PEDRO                         |                                                     7.99 |
| BOURQUE DERRICK                        |                                                     6.99 |
| PAINE DAN                              |                                                     8.99 |
| HITE ZACHARY                           |                                                     8.99 |
| HITE ZACHARY                           |                                                     5.99 |
| HAUSER COREY                           |                                                     4.99 |
| HAUSER COREY                           |                                                     6.99 |
| DEVORE HERMAN                          |                                                     4.99 |
| VU ROBERTO                             |                                                     9.99 |
| VU ROBERTO                             |                                                     5.99 |
| TOBIAS CLYDE                           |                                                     6.99 |
| TOBIAS CLYDE                           |                                                     4.99 |
| TOBIAS CLYDE                           |                                                     2.99 |
| TALBERT GLEN                           |                                                     0.99 |
| POINDEXTER HECTOR                      |                                                     7.99 |
| POINDEXTER HECTOR                      |                                                     3.99 |
| POINDEXTER HECTOR                      |                                                     2.99 |
| MILLARD SHANE                          |                                                     5.99 |
| MEADOR RICARDO                         |                                                     4.99 |
| MEADOR RICARDO                         |                                                     0.99 |
| MCDUFFIE SAM                           |                                                     4.99 |
| CHOATE RAMON                           |                                                     2.99 |
| CHOATE RAMON                           |                                                     4.99 |
| BESS CHARLIE                           |                                                     9.99 |
| SLEDGE GILBERT                         |                                                     4.99 |
| SLEDGE GILBERT                         |                                                     9.99 |
| SANBORN GENE                           |                                                     0.99 |
| KINDER REGINALD                        |                                                     3.99 |
| KINDER REGINALD                        |                                                     0.99 |
| GEARY RUBEN                            |                                                     2.99 |
| CORNWELL BRETT                         |                                                     0.99 |
| RHOADS EDGAR                           |                                                     2.99 |
| EASTER BEN                             |                                                     4.99 |
| BENNER CHESTER                         |                                                     6.99 |
| BENNER CHESTER                         |                                                     0.99 |
| VINES CECIL                            |                                                     2.99 |
| VINES CECIL                            |                                                     4.99 |
| TROUTMAN FRANKLIN                      |                                                     3.99 |
| NOE ELMER                              |                                                     4.99 |
| DELUCA RON                             |                                                     6.99 |
| DELUCA RON                             |                                                     4.99 |
| HAVENS ARNOLD                          |                                                     7.99 |
| HAVENS ARNOLD                          |                                                     4.99 |
| HAVENS ARNOLD                          |                                                     2.99 |
| HAVENS ARNOLD                          |                                                     5.99 |
| GUAJARDO HARVEY                        |                                                     2.99 |
| CLARY ADRIAN                           |                                                     4.99 |
| HERZOG CLAUDE                          |                                                     8.99 |
| GUILLEN ERIK                           |                                                     5.99 |
| GUILLEN ERIK                           |                                                     4.99 |
| GUILLEN ERIK                           |                                                     0.99 |
| WAUGH JAMIE                            |                                                     4.99 |
| WAUGH JAMIE                            |                                                     0.99 |
| JUNG CHRISTIAN                         |                                                     5.99 |
| JUNG CHRISTIAN                         |                                                     4.99 |
| ELROD JAVIER                           |                                                     0.99 |
| CHURCHILL FERNANDO                     |                                                     2.99 |
| CHURCHILL FERNANDO                     |                                                     8.99 |
| BREAUX TED                             |                                                     0.99 |
| BOLIN MATHEW                           |                                                     0.99 |
| NOLEN CODY                             |                                                     9.99 |
| NOLEN CODY                             |                                                     5.99 |
| KNOTT KELLY                            |                                                     4.99 |
| CHRISTENSON NELSON                     |                                                     7.99 |
| BROWNLEE GUY                           |                                                     8.99 |
| BARBEE CLAYTON                         |                                                     2.99 |
| BARBEE CLAYTON                         |                                                     0.99 |
| WALDROP HUGH                           |                                                     4.99 |
| WALDROP HUGH                           |                                                     8.99 |
| PITT MAX                               |                                                     4.99 |
| LOMBARDI DWIGHT                        |                                                     5.99 |
| GRUBER ARMANDO                         |                                                     5.99 |
| GAFFNEY FELIX                          |                                                     6.99 |
| GAFFNEY FELIX                          |                                                     2.99 |
| GAFFNEY FELIX                          |                                                     0.99 |
| GAFFNEY FELIX                          |                                                     1.99 |
| EGGLESTON JIMMIE                       |                                                     2.99 |
| BANDA EVERETT                          |                                                     0.99 |
| ARCHULETA JORDAN                       |                                                     4.99 |
| ARCHULETA JORDAN                       |                                                     0.99 |
| PFEIFFER BOB                           |                                                     0.99 |
| PFEIFFER BOB                           |                                                     3.99 |
| MENA CASEY                             |                                                     4.99 |
| MCADAMS ALFREDO                        |                                                     7.99 |
| MCADAMS ALFREDO                        |                                                     6.99 |
| GARDINER DAVE                          |                                                     2.99 |
| GARDINER DAVE                          |                                                     1.99 |
| GARDINER DAVE                          |                                                     4.99 |
| CROMWELL IVAN                          |                                                     0.99 |
| CROMWELL IVAN                          |                                                     2.99 |
| CROMWELL IVAN                          |                                                     7.99 |
| CHISHOLM JOHNNIE                       |                                                     1.99 |
| CHISHOLM JOHNNIE                       |                                                     4.99 |
| BURLESON SIDNEY                        |                                                     3.99 |
| OGLESBY ISAAC                          |                                                     4.99 |
| OGLESBY ISAAC                          |                                                     0.99 |
| MCCARTER MORRIS                        |                                                     5.99 |
| MCCARTER MORRIS                        |                                                     4.99 |
| LARUE DARYL                            |                                                     0.99 |
| LARUE DARYL                            |                                                     3.98 |
| LARUE DARYL                            |                                                     9.99 |
| GREY ROSS                              |                                                     3.99 |
| GREY ROSS                              |                                                     0.99 |
| GREY ROSS                              |                                                     5.99 |
| WOFFORD VIRGIL                         |                                                     1.99 |
| WOFFORD VIRGIL                         |                                                     2.99 |
| TEEL SALVADOR                          |                                                     3.99 |
| TEEL SALVADOR                          |                                                     4.99 |
| SWAFFORD PERRY                         |                                                     8.99 |
| OCAMPO MARION                          |                                                     2.99 |
| OCAMPO MARION                          |                                                     4.99 |
| HERRMANN TRACY                         |                                                     4.99 |
| HANNON SETH                            |                                                     0.99 |
| ROUSH TERRANCE                         |                                                     3.99 |
| ROUSH TERRANCE                         |                                                     4.99 |
| MCALISTER RENE                         |                                                     6.99 |
| GUNDERSON TERRENCE                     |                                                     4.99 |
| GUNDERSON TERRENCE                     |                                                     0.99 |
| GUNDERSON TERRENCE                     |                                                     2.99 |
| DUGGAN FREDDIE                         |                                                     4.99 |
| DELVALLE WADE                          |                                                     4.99 |
| CINTRON AUSTIN                         |                                                     6.99 |
+----------------------------------------+----------------------------------------------------------+
602 rows in set (0.01 sec)
```

![alt text](https://github.com/shatskiy-O/sdb-homeworks/blob/main/images/30.png)

## Дополнительные задания (со звёздочкой*)
Эти задания дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже шире разобраться в материале.

### Задание 3*

Самостоятельно изучите, какие типы индексов используются в PostgreSQL. Перечислите те индексы, которые используются в PostgreSQL, а в MySQL — нет.

*Приведите ответ в свободной форме.*

### Ответ 3*

```
1. **GIN (Generalized Inverted Index)**: Этот тип индекса хорошо подходит для индексации массивов и текстовых данных. Он эффективен для операций включения и пересечения.

2. **GiST (Generalized Search Tree)**: Обобщенное дерево поиска, поддерживающее широкий спектр различных запросов и типов данных.

3. **SP-GiST (Space-partitioned Generalized Search Tree)**: Этот тип индекса предназначен для данных, которые естественным образом разбиваются на иерархические разделы.

4. **BRIN (Block Range INdexes)**: Индексы диапазона блоков эффективны для очень больших таблиц, где значения каким-то образом сортируются, но весь индекс не помещается в память.

5. **Hash Index**: Хотя хеш-индексы присутствуют и в MySQL, в PostgreSQL они были значительно улучшены и поддерживают транзакции.

6. **Partial Indexes**: Это индексы, которые индексируют только те строки, которые удовлетворяют заданному условию. Это нечто, что не прямо поддерживается в MySQL.

7. **Expression Indexes**: Эти индексы создаются на основе результата выражения или функции, а не просто на значениях столбцов.
```